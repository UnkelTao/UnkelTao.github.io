
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>2014年西南交通大学 新秀杯 ACM程序设计大赛 决赛解题报告 - /UnkelTao</title>
  <meta name="author" content="UnkelTao">

  
  <meta name="description" content="2014年西南交通大学 新秀杯 ACM程序设计大赛 决赛解题报告">
  <meta name="keywords" content="ACM,C++">
   <meta name="keywords" content="c/c++, ruby, latex, linux, java, web development, hadoop, MapReduce">
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.UnkelTao.com/blog/2014/11/16/2014-swjtu-acm-onsite-programming-contest/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
   <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/costem.js" type="text/javascript"></script>
  <!-- <script src="/javascripts/instantclick.min.js" type="text/javascript"></script> -->
  <link href="/atom.xml" rel="alternate" title="/UnkelTao" type="application/atom+xml">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!--
<link href='http://fonts.googleapis.com/css?family=Lato:400,100,100italic,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lora:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:200,300,400,500,600,700,900' rel='stylesheet' type='text/css'>


-->
 

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-48154170-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <!--html{background: url("http://unkeltao.qiniudn.com/bg/IMG_background.png") no-repeat center center fixed;-webkit-background-size: cover;-moz-background-size: cover;-o-background-size: cover;background-size: cover;
   }-->
  <style type="text/css">
   
   * { color: #555; font-family:Monospace; font-size:12px; }
      
    
      canvas { opacity: .8; position:relative; z-index: -3;}
  </style>
  <!-- 画布程序 -->
    <script type="text/javascript" src="/javascripts/paint/harmony.js"></script>
    <script type="text/javascript" src="/javascripts/paint/dollar.js"></script>
  <!-- 画布程序结束 -->  
  
</head>

<body   >
  <script>harmony()</script>
  <header role="banner"><hgroup>
</hgroup>

</header>
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.UnkelTao.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/archives">About</a></li>
</ul>

</nav> -->
  <div id="main">
    <div id="content" data-no-instant>
      <div data-no-instant>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">2014年西南交通大学 新秀杯 ACM程序设计大赛 决赛解题报告</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-16T10:41:05+00:00" pubdate data-updated="true">Nov 16<span>th</span>, 2014</time>
        
        
          | <a href="#comments">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p><strong>比赛链接：</strong>  <a href="http://acm.swjtu.edu.cn/JudgeOnline/showcontest?contest_id=1135">新秀杯 ACM程序设计大赛决赛</a>  </p>

<p>比赛还算成功，算上友情参赛，总共有7个题目有人通过，第一名最后成绩为5题，虽然离我想的差一点。不过还是不错~~  </p>

<!--more-->

<h2 id="a-httpacmswjtueducnjudgeonlineshowproblemproblemid2173">A <a href="http://acm.swjtu.edu.cn/JudgeOnline/showproblem?problem_id=2173">从头再来</a></h2>

<p>只需要简单的统计单词A中每个字母出现的次数，与B中每个字母出现的次数做比较即可。</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
</pre></td><td class="code"><pre><code class=""><span class="line">#include &lt;cstdio&gt;
</span><span class="line">#include &lt;cmath&gt;
</span><span class="line">#include &lt;algorithm&gt;
</span><span class="line">#include &lt;iostream&gt;
</span><span class="line">#define SQR(x) ((x)*(x))
</span><span class="line">#define rep(i, n) for (int i=0; i&lt;(n); ++i)
</span><span class="line">#define repd(i,n)  for(int i=1;i&lt;=(n);++i)
</span><span class="line">#define repf(i, a, b) for (int i=(a); i&lt;=(b); ++i)
</span><span class="line">#define reps(i, a, b) for (int i=(a); i&gt;=(b); --i)
</span><span class="line">#define MaxN  10010
</span><span class="line">#define ll long long
</span><span class="line">using namespace std;
</span><span class="line">void data(){
</span><span class="line">   freopen("data.in","r",stdin);
</span><span class="line">   freopen("data.out","w",stdout);
</span><span class="line">}
</span><span class="line">char a[MaxN],b[MaxN];
</span><span class="line">int s1[27],s2[27];
</span><span class="line">int gao(){
</span><span class="line">    memset(s1,0,sizeof(s1));
</span><span class="line">    memset(s2,0,sizeof(s2));
</span><span class="line">    int l1=strlen(a),l2=strlen(b);
</span><span class="line">    rep(i,l1) s1[a[i]-'a']++;
</span><span class="line">    rep(i,l2) s2[b[i]-'a']++;
</span><span class="line">    rep(i,26)if(s1[i]&lt;s2[i]) return 0;
</span><span class="line">    return 1;   
</span><span class="line">}
</span><span class="line">int main(){
</span><span class="line">   //data();
</span><span class="line">   while(cin&gt;&gt;a&gt;&gt;b){
</span><span class="line">      printf("%s\n",gao()?"Yes":"No");
</span><span class="line">   }
</span><span class="line">   return 0;
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="b-httpacmswjtueducnjudgeonlineshowproblemproblemid2175">B <a href="http://acm.swjtu.edu.cn/JudgeOnline/showproblem?problem_id=2175">挖掘机技术哪家强</a></h2>

<p><img src="http://unkeltao.qiniudn.com/wailian/10_onsite_B.jpg" alt="" />   </p>

<p>~~连接DF，那么ADF的面积为正方形的一半，也是矩形的一半，正方形的面积就等于矩形的面积。
<code>AE=a*a/b; DE=sqrt(a*a-AE*AE)</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">int main(){
</span><span class="line">   //  data();
</span><span class="line">   int a,b;
</span><span class="line">   while(~scanf("%d%d",&amp;a,&amp;b)){
</span><span class="line">       double res=sqrt(a*a-(a*a*1.0/b)*(a*a*1.0/b))*(a*a*1.0/b)/2.0;
</span><span class="line">       printf("%.2lf\n",res);             
</span><span class="line">   }
</span><span class="line">   return 0;
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="c-yogykwaniphonehttpacmswjtueducnjudgeonlineshowproblemproblemid2175">C <a href="http://acm.swjtu.edu.cn/JudgeOnline/showproblem?problem_id=2175">YogyKwan的iPhone也弯了</a></h2>

<p>假设半径为<code>r,t</code>为输入的数据那么可以写出如下等式：
<code>r*sin(pi-15/r/2)=t/2</code>
我们可以知道，当<code>r</code>越大时候，<code>t</code>就会越小，于是我们可以二分判定。</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
</pre></td><td class="code"><pre><code class=""><span class="line">#include&lt;cstdio&gt;
</span><span class="line">#include&lt;cmath&gt;
</span><span class="line">const double PI=acos(-1);
</span><span class="line">const double eps=1e-10;
</span><span class="line">int main(){
</span><span class="line">    //freopen("data.in","r",stdin);freopen("data2.out","w",stdout);
</span><span class="line">    double l,w,r,a,sj,xj,m,t;
</span><span class="line">    while(scanf("%lf",&amp;w)!=EOF){
</span><span class="line">        l=15;
</span><span class="line">        sj=l/PI,xj=0.5*l/PI;
</span><span class="line">        w*=0.5,l*=0.5;
</span><span class="line">        while(sj-xj&gt;eps){
</span><span class="line">            m=(sj+xj)*0.5;
</span><span class="line">            t=m*sin(l/m);
</span><span class="line">            if(t&gt;w) sj=m;
</span><span class="line">            else xj=m;
</span><span class="line">        }
</span><span class="line">        r=m;
</span><span class="line">        a=l/r*2;
</span><span class="line">        printf("%f %f\n",r,a);
</span><span class="line">    }
</span><span class="line">    return 0;
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="d-httpacmswjtueducnjudgeonlineshowproblemproblemid2776">D <a href="http://acm.swjtu.edu.cn/JudgeOnline/showproblem?problem_id=2776">强迫症改变世界</a></h2>

<p>不妨用 <code>f(k)</code> 来表示摆放<code>k</code>个座位的方案数。我们可以把这些方案分成两类：最后一个座位是坐女生，或者最后一个座位是坐男生。如果是前一种情形，则我们只需要看前<code>k–1</code>座位有多少摆法就可以了；如果是后一种情形，那么倒数第二个座位必须是女生，因而这种情形下的方案数就取决于前 <code>k–2</code>个座位的安排方案数。因此我们得到， <code>f(k) = f(k – 1) + f(k – 2)</code> 其中<code>f[1]=2,f[2]=3;</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
</pre></td><td class="code"><pre><code class=""><span class="line">#define SQR(x) ((x)*(x))
</span><span class="line">#define rep(i, n) for (int i=0; i&lt;(n); ++i)
</span><span class="line">#define repd(i,n)  for(int i=1;i&lt;=(n);++i)
</span><span class="line">#define repf(i, a, b) for (int i=(a); i&lt;=(b); ++i)
</span><span class="line">#define reps(i, a, b) for (int i=(a); i&gt;=(b); --i)
</span><span class="line">int f[1002];
</span><span class="line">void gao(){
</span><span class="line">     f[0]=1;
</span><span class="line">     f[1]=2;
</span><span class="line">     repf(i,2,1001) f[i]=(f[i-1]+f[i-2])%mod;           
</span><span class="line">}
</span><span class="line">int main(){
</span><span class="line">    //data();
</span><span class="line">    int n;
</span><span class="line">    gao();
</span><span class="line">    while(~scanf("%d",&amp;n)){
</span><span class="line">        printf("%ld\n",f[n]);
</span><span class="line">    }
</span><span class="line">    return 0;
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="e-2httpacmswjtueducnjudgeonlineshowproblemproblemid2177">E <a href="http://acm.swjtu.edu.cn/JudgeOnline/showproblem?problem_id=2177">强迫症改变世界2</a></h2>

<p>此题需要先会容斥定理， <code>n</code>以内<code>a,b</code>的倍数的个数有， <code>sum=n/a+n/b-n/lcm(a,b)</code>;
然后我们枚举出所有的只含有<code>4</code>或者<code>7</code>的数字（大概<code>1000</code>个），然后去掉是前面出现过得数的倍数的数（如<code>44</code>是<code>4</code>的倍数） 大概还剩下不到<code>600</code>个，看起来很大，因为容斥定理的复杂度是<code>2^n</code>次方，但是，此题<code>r</code>的范围不是小，我们在做<code>lcm</code>的时候，很快就会超过范围，就不需要继续向下了，然后我们从大往小做，大概只需要递归<code>10</code>万次左右。</p>

<p>剩下的可以参考代码。</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
</pre></td><td class="code"><pre><code class=""><span class="line">#include &lt;cstdio&gt;
</span><span class="line">#include &lt;cstdlib&gt;
</span><span class="line">#include &lt;cstring&gt;
</span><span class="line">#include &lt;cmath&gt;
</span><span class="line">#include &lt;climits&gt;
</span><span class="line">#include &lt;cctype&gt;
</span><span class="line">#include &lt;ctime&gt;
</span><span class="line">#include &lt;algorithm&gt;
</span><span class="line">#include &lt;iostream&gt;
</span><span class="line">#include &lt;queue&gt;
</span><span class="line">#include &lt;vector&gt;
</span><span class="line">#include &lt;set&gt;
</span><span class="line">#include &lt;map&gt;
</span><span class="line">#include &lt;stack&gt;
</span><span class="line">#define SQR(x) ((x)*(x))
</span><span class="line">#define rep(i, n) for (int i=0; i&lt;(n); ++i)
</span><span class="line">#define repd(i,n)  for(int i=1;i&lt;=(n);++i)
</span><span class="line">#define repf(i, a, b) for (int i=(a); i&lt;=(b); ++i)
</span><span class="line">#define reps(i, a, b) for (int i=(a); i&gt;=(b); --i)
</span><span class="line">#define PB push_back
</span><span class="line">#define MP(A, B) make_pair(A, B)
</span><span class="line">#define pow2(n) (1&lt;&lt;(n))
</span><span class="line">#define pi acos(-1)
</span><span class="line">#define eps 0.00000001
</span><span class="line">#define lg(n) log10((n)*1.0)
</span><span class="line">#define MaxN  1000000000
</span><span class="line">#define mod 1000000007
</span><span class="line">#define md(x) (((x)%mod+mod)%mod)
</span><span class="line">#define ll long long
</span><span class="line">using namespace std;
</span><span class="line">void data(){
</span><span class="line">   freopen("sample.in","r",stdin);
</span><span class="line">   freopen("sample.out","w",stdout);
</span><span class="line">}
</span><span class="line">ll gcd(ll a,ll b){return b?gcd(b,a%b):a;}
</span><span class="line">int t,n,m;
</span><span class="line">ll l,r,ans,a[3000],b[3000];
</span><span class="line">bool vis[3000];
</span><span class="line">void pre(int x,ll y)
</span><span class="line">{
</span><span class="line">  if(y&gt;MaxN)return;
</span><span class="line">  if(x&gt;0)a[++m]=y;
</span><span class="line">  pre(x+1,y*10+4);
</span><span class="line">  pre(x+1,y*10+7);
</span><span class="line">}
</span><span class="line">void gao(){
</span><span class="line">  sort(a+1,a+m+1);
</span><span class="line">  repd(i,m)
</span><span class="line">     if(!vis[i])
</span><span class="line">     {
</span><span class="line">         b[++n]=a[i];
</span><span class="line">         for(int j=i+1;j&lt;=m;j++)
</span><span class="line">             if(!(a[j]%a[i]))
</span><span class="line">                 vis[j]=1;
</span><span class="line">     }
</span><span class="line">  repd(i,n) a[n-i+1]=b[i];
</span><span class="line">}
</span><span class="line">void dfs(int x,int y,ll z)
</span><span class="line">{
</span><span class="line">  if(x&gt;n)
</span><span class="line">  {
</span><span class="line">    if(y&amp;1)ans+=r/z-(l-1)/z;
</span><span class="line">    else if(y)ans-=r/z-(l-1)/z;
</span><span class="line">    return;
</span><span class="line">  }
</span><span class="line">  dfs(x+1,y,z);
</span><span class="line">  ll tmp=z/gcd(a[x],z);
</span><span class="line">  if((a[x]*tmp)&lt;=r) dfs(x+1,y+1,a[x]*tmp);
</span><span class="line">}
</span><span class="line">int main()
</span><span class="line">{
</span><span class="line">    //data();
</span><span class="line">    pre(0,0);
</span><span class="line">    gao();
</span><span class="line">    while(~scanf("%lld%lld",&amp;l,&amp;r)){
</span><span class="line">      ans=0;
</span><span class="line">      dfs(1,0,1);
</span><span class="line">      printf("%lld\n",ans);
</span><span class="line">    }
</span><span class="line">    return 0;
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="f-iihttpacmswjtueducnjudgeonlineshowproblemproblemid2178">F <a href="http://acm.swjtu.edu.cn/JudgeOnline/showproblem?problem_id=2178">不幸的程序员II</a></h2>
<p>矩阵快速幂，如果你还不会这个，那么该先去学习矩阵快速幂。</p>

<p>简单公式推导如下:
<img src="http://unkeltao.qiniudn.com/wailian/10_F_1.png" alt="" />
<img src="http://unkeltao.qiniudn.com/wailian/10_F_2.png" alt="" /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
</pre></td><td class="code"><pre><code class=""><span class="line">#include &lt;cstdio&gt;
</span><span class="line">#include&lt;iostream&gt;
</span><span class="line">#include&lt;cstdlib&gt;
</span><span class="line">#include&lt;stdio.h&gt;
</span><span class="line">#include&lt;math.h&gt;
</span><span class="line">using namespace std;
</span><span class="line">const int MAX = 3;
</span><span class="line">#define rep(i, n) for (int i=0; i&lt;(n); ++i)
</span><span class="line">#define repd(i,n)  for(int i=1;i&lt;=(n);++i)
</span><span class="line">#define repf(i, a, b) for (int i=(a); i&lt;=(b); ++i)
</span><span class="line">#define reps(i, a, b) for (int i=(a); i&gt;=(b); --i)
</span><span class="line">#define mod 1000000007
</span><span class="line">#define ll long long
</span><span class="line">typedef struct
</span><span class="line">{
</span><span class="line">   ll m[MAX][MAX];
</span><span class="line">} Matrix;
</span><span class="line">Matrix P;
</span><span class="line">Matrix I ={1,0,0,0,1,0,0,0,1};
</span><span class="line">Matrix matrixmul(Matrix a,Matrix b) 
</span><span class="line">{
</span><span class="line">   int i,j,k;
</span><span class="line">   Matrix c;
</span><span class="line">   rep(i,MAX)
</span><span class="line">   rep(j,MAX)
</span><span class="line">   {
</span><span class="line">     c.m[i][j] = 0;
</span><span class="line">     rep(k,MAX) c.m[i][j] += (a.m[i][k] * b.m[k][j])%(mod);
</span><span class="line">     c.m[i][j] %= (mod);
</span><span class="line">   }
</span><span class="line">   return c;
</span><span class="line">}
</span><span class="line">Matrix quickpow(ll n, Matrix P)
</span><span class="line">{
</span><span class="line">    Matrix m = P, b = I;
</span><span class="line">    while (n &gt;= 1)
</span><span class="line">    {
</span><span class="line">        if (n &amp; 1)
</span><span class="line">        b = matrixmul(b,m);
</span><span class="line">        n = n &gt;&gt; 1;
</span><span class="line">        m = matrixmul(m,m);
</span><span class="line">    }
</span><span class="line">    return b;
</span><span class="line">}
</span><span class="line">void data(){
</span><span class="line">   freopen("data.in","r",stdin);
</span><span class="line">   freopen("data.out","w",stdout);
</span><span class="line">}
</span><span class="line">int main()
</span><span class="line">{
</span><span class="line">    ll a,b,n,m;
</span><span class="line">    //data();
</span><span class="line">    while(~scanf("%lld%lld%lld%lld",&amp;n,&amp;m,&amp;a,&amp;b))
</span><span class="line">    {   
</span><span class="line">        Matrix T1,T2,T;
</span><span class="line">        Matrix P1 = {2,1,3,1,0,0,0,0,1};
</span><span class="line">        Matrix P2 = {5*8,4*8+7,6*8+9,5,4,6,0,0,1};
</span><span class="line">        T1=quickpow((m-2),P1);
</span><span class="line">        T2=quickpow(1LL*n-1,matrixmul(T1,P2));
</span><span class="line">        T=matrixmul(T2,T1);
</span><span class="line">        Matrix tmp={b%mod,0,0,a%mod,0,0,1,0,0};
</span><span class="line">        T=matrixmul(T,tmp);
</span><span class="line">        printf("%lld\n",T.m[0][0]%mod); 
</span><span class="line">    }
</span><span class="line">    return 0; 
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="g-httpacmswjtueducnjudgeonlineshowproblemproblemid2179">G <a href="http://acm.swjtu.edu.cn/JudgeOnline/showproblem?problem_id=2179">你是一个好人</a></h2>

<p>概率DP，我们假设<code>dp[i][j]</code>表示前i次表白收集了j张不同卡的概率，那么很明显:
<code>i==1,j==1</code>时 <code>dp[1][1] = 1</code>;<br />
<code>i&lt;j </code>,  <code>dp[i][j] = 0;</code>(一共都不到j张，怎么收集) <br />
那么<code>dp[i+1][j] = dp[i][j]*(j/n)+dp[i][j-1]*(n-(j-1))/n</code>;
第一个表示第<code>i+1</code>收集的与之前的<code>j</code>张是一样的，第二个表示第<code>i+1</code>次收集的与前<code>j-1</code>个不同，那么就就多收集了一个，变成<code>j</code>个。</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
</pre></td><td class="code"><pre><code class=""><span class="line">#include &lt;cstdio&gt;
</span><span class="line">#include &lt;cstdlib&gt;
</span><span class="line">#include &lt;cstring&gt;
</span><span class="line">#include &lt;cmath&gt;
</span><span class="line">#include &lt;climits&gt;
</span><span class="line">#include &lt;cctype&gt;
</span><span class="line">#include &lt;ctime&gt;
</span><span class="line">#include &lt;algorithm&gt;
</span><span class="line">#include &lt;iostream&gt;
</span><span class="line">#include &lt;queue&gt;
</span><span class="line">#include &lt;vector&gt;
</span><span class="line">#include &lt;set&gt;
</span><span class="line">#include &lt;map&gt;
</span><span class="line">#include &lt;stack&gt;
</span><span class="line">#define SQR(x) ((x)*(x))
</span><span class="line">#define rep(i, n) for (int i=0; i&lt;(n); ++i)
</span><span class="line">#define repd(i,n)  for(int i=1;i&lt;=(n);++i)
</span><span class="line">#define repf(i, a, b) for (int i=(a); i&lt;=(b); ++i)
</span><span class="line">#define reps(i, a, b) for (int i=(a); i&gt;=(b); --i)
</span><span class="line">#define PB push_back
</span><span class="line">#define MP(A, B) make_pair(A, B)
</span><span class="line">#define pow2(n) (1&lt;&lt;(n))
</span><span class="line">#define pi acos(-1)
</span><span class="line">#define eps 0.00000001
</span><span class="line">#define lg(n) log10((n)*1.0)
</span><span class="line">#define MaxN  1000000
</span><span class="line">#define mod 1000000007
</span><span class="line">#define ll long long
</span><span class="line">#define typed int
</span><span class="line">using namespace std;
</span><span class="line">void data(){
</span><span class="line">   freopen("data.in","r",stdin);
</span><span class="line">   freopen("data.out","w",stdout);
</span><span class="line">}
</span><span class="line">//fast read
</span><span class="line">void RD(int &amp;a) {
</span><span class="line">    int value = 0, s = 1;
</span><span class="line">    char c;
</span><span class="line">    while ((c = getchar()) == ' ' || c == '\n');
</span><span class="line">    if (c == '-') s = -s; else value = c-48;
</span><span class="line">    while ((c = getchar()) &gt;= '0' &amp;&amp; c &lt;= '9')
</span><span class="line">        value = value * 10 + c - 48;
</span><span class="line">    a = s * value;
</span><span class="line">}
</span><span class="line">void RD(int &amp;a,int &amp;b){
</span><span class="line">    RD(a),RD(b);
</span><span class="line">}
</span><span class="line">void RD(int &amp;a,int &amp;b,int &amp;c){
</span><span class="line">    RD(a),RD(b),RD(c);
</span><span class="line">}
</span><span class="line">double dp[101][2002];
</span><span class="line">double gao(int n,int m){
</span><span class="line">     memset(dp,0,sizeof(0));
</span><span class="line">     dp[0][0]=1.0;
</span><span class="line">     repd(i,n)repf(j,i,m) dp[i][j]=dp[i-1][j-1]*(n-i+1)/n+dp[i][j-1]*i/n; 
</span><span class="line">     return dp[n][m];
</span><span class="line">}
</span><span class="line">int main(){
</span><span class="line">   //data();
</span><span class="line">   int t,n,m;
</span><span class="line">   RD(t);
</span><span class="line">   rep(i,t){
</span><span class="line">      RD(n,m);
</span><span class="line">      if(m&lt;n)printf("%.6lf\n",0);
</span><span class="line">      else printf("%.6lf\n",gao(n,m));
</span><span class="line">   }
</span><span class="line">   return 0;
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="h-httpacmswjtueducnjudgeonlineshowproblemproblemid2180">H <a href="http://acm.swjtu.edu.cn/JudgeOnline/showproblem?problem_id=2180">最萌身高差</a></h2>

<p>此题为树状数组的 YY 题。。。<br />
首先我们考虑若 <code>&beta;</code> 固定的情况，那么根据同模的性质。。如果 <code>a%p == b%p</code> 那么 <code>|a-b| = k * p</code><br />
这样预处理一下，只要找到模相同的个数，就能知道有多少组了。。此题 <code>&beta;</code>很小，那么我们维护各个余数的前缀和就可以求个分别余数的区间和了。。。，因为此题要求支持修改，那么我们就使
用树状数组（如果你还不会，那么赶紧学起吧）就可以满足要求了。。、、 <br />
关键是怎么去修改更新；修改了一个数，我们需要一增一减，余数为 <code>a% &beta;</code> 的减一， <code>(a + p)% &beta;</code> 的加 1.. 这样就可以很好的查找和维护了。。 </p>

<p><code>&beta;</code>不一样？ 但是<code>&beta;</code>很小啊，我们再增加一维？这么做会MLE，那么我们离线处理每个<code>&beta;</code>跑一次就好了。</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
</pre></td><td class="code"><pre><code class=""><span class="line">#include &lt;cstdio&gt;
</span><span class="line">#include &lt;cstdlib&gt;
</span><span class="line">#include &lt;cstring&gt;
</span><span class="line">#include &lt;cmath&gt;
</span><span class="line">#include &lt;climits&gt;
</span><span class="line">#include &lt;cctype&gt;
</span><span class="line">#include &lt;ctime&gt;
</span><span class="line">#include &lt;algorithm&gt;
</span><span class="line">#include &lt;iostream&gt;
</span><span class="line">#include &lt;queue&gt;
</span><span class="line">#include &lt;vector&gt;
</span><span class="line">#include &lt;set&gt;
</span><span class="line">#include &lt;map&gt;
</span><span class="line">#include &lt;stack&gt;
</span><span class="line">#define SQR(x) ((x)*(x))
</span><span class="line">#define rep(i, n) for (int i=0; i&lt;(n); ++i)
</span><span class="line">#define repd(i,n)  for(int i=1;i&lt;=(n);++i)
</span><span class="line">#define repf(i, a, b) for (int i=(a); i&lt;=(b); ++i)
</span><span class="line">#define reps(i, a, b) for (int i=(a); i&gt;=(b); --i)
</span><span class="line">#define PB push_back
</span><span class="line">#define MP(A, B) make_pair(A, B)
</span><span class="line">#define pow2(n) (1&lt;&lt;(n))
</span><span class="line">#define pi acos(-1)
</span><span class="line">#define eps 0.00000001
</span><span class="line">#define lg(n) log10((n)*1.0)
</span><span class="line">#define MaxN  200000
</span><span class="line">#define mod 13041290
</span><span class="line">#define mod2 1000000009
</span><span class="line">#define mod3 1000007
</span><span class="line">#define md(x) (((x)%mod+mod)%mod)
</span><span class="line">#define inf 2147483647
</span><span class="line">#define inf2 0x7fffffffffffffff
</span><span class="line">#define ll long long
</span><span class="line">#define typed int
</span><span class="line">using namespace std;
</span><span class="line">void data(){
</span><span class="line">   freopen("data.in","r",stdin);
</span><span class="line">   freopen("data2.out","w",stdout);
</span><span class="line">}
</span><span class="line">int C[10][MaxN]={0};
</span><span class="line">int n,m;
</span><span class="line">int read(int k,int i){
</span><span class="line">  int sum=0;
</span><span class="line">  for(;k;k-=(k&amp;-k)) sum += C[i][k];
</span><span class="line">  return sum;
</span><span class="line">}
</span><span class="line">void update(int k,int p,int i){
</span><span class="line">    for(;k&lt;=n;k+=(k&amp;-k)) C[i][k] += p;
</span><span class="line">}
</span><span class="line">//fast read
</span><span class="line">void RD(int &amp;a) { 
</span><span class="line">    int value = 0, s = 1; 
</span><span class="line">    char c;
</span><span class="line">    while ((c = getchar()) == ' ' || c == '\n');
</span><span class="line">    if (c == '-') s = -s; else value = c-48;
</span><span class="line">    while ((c = getchar()) &gt;= '0' &amp;&amp; c &lt;= '9')
</span><span class="line">        value = value * 10 + c - 48;
</span><span class="line">    a = s * value;
</span><span class="line">}
</span><span class="line">int B[MaxN],A[MaxN];
</span><span class="line">int l[MaxN],r[MaxN],beta[MaxN];
</span><span class="line">int q[MaxN];
</span><span class="line">ll ans[MaxN];
</span><span class="line">int used[11];
</span><span class="line">int Q,a,p,m,l1,r1,beta1;
</span><span class="line">void gao(){
</span><span class="line">  memset(used,0,sizeof(used));
</span><span class="line">  rep(i,n) RD(A[i]);
</span><span class="line">  int len=0,t=0;
</span><span class="line">  rep(i,m){
</span><span class="line">      RD(Q);
</span><span class="line">    if(Q==1)RD(a),RD(p),l[len]=a,r[len]=p,q[len++]=-1;
</span><span class="line">    else{
</span><span class="line">         RD(l1),RD(r1),RD(beta1);
</span><span class="line">         l[len]=l1,r[len]=r1,beta[len]=beta1;
</span><span class="line">         used[beta1]=1,q[len++]=t++;
</span><span class="line">       if(beta1==1){ 
</span><span class="line">        ll ttt=r1-l1+1; 
</span><span class="line">        ans[q[len-1]]=ttt*(ttt-1)/2%mod;
</span><span class="line">       }
</span><span class="line">     }
</span><span class="line">  }
</span><span class="line">}
</span><span class="line">int main(){
</span><span class="line">  //data();
</span><span class="line">  while(~scanf("%d%d",&amp;n,&amp;m)){  
</span><span class="line">     gao();
</span><span class="line">     repf(k,2,10){
</span><span class="line">        if(!used[k])continue;
</span><span class="line">        memset(C,0,sizeof(C));
</span><span class="line">        rep(i,n) B[i]=A[i],update(i+1,1,A[i]%k);
</span><span class="line">        rep(i,m){
</span><span class="line">           if(q[i]==-1){
</span><span class="line">              update(l[i],-1,B[l[i]-1]%k);
</span><span class="line">              update(l[i],1,(B[l[i]-1]+r[i])%k);
</span><span class="line">              B[l[i]-1]+=r[i];
</span><span class="line">              continue;
</span><span class="line">           }
</span><span class="line">           if(beta[i]!=k)continue;
</span><span class="line">           ll sum=0;
</span><span class="line">           rep(j,beta[i]){
</span><span class="line">               ll tp = read(r[i],j) - read(l[i]-1,j);
</span><span class="line">               sum += tp*(tp-1)/2;
</span><span class="line">               sum %=mod;
</span><span class="line">           }
</span><span class="line">           ans[q[i]]=sum%mod;
</span><span class="line">        } 
</span><span class="line">     }
</span><span class="line">     rep(i,t) printf("%lld\n",ans[i]%mod);
</span><span class="line">  }
</span><span class="line">  return 0;
</span><span class="line">}
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="i-missinghttpacmswjtueducnjudgeonlineshowproblemproblemid2181">I <a href="http://acm.swjtu.edu.cn/JudgeOnline/showproblem?problem_id=2181">Missing教大家画矩形</a></h2>

<p>模拟题目，确定一个矩形只需要对角线确定，
所以找出最小，最大的x值和y值就行了
题目虽然简单，但是如果写法不好，也会被坑~
(此题来自于Missing)</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
</pre></td><td class="code"><pre><code class=""><span class="line">//Draw A Rectangle
</span><span class="line">//Author: _missing
</span><span class="line">// 模拟题，确定一个矩形只需要对角线确定，
</span><span class="line">// 所以找出最小，最大的x值和y值就行了
</span><span class="line">// 题目虽然简单，但是如果写法不好，也会被坑~
</span><span class="line">#include &lt;iostream&gt;
</span><span class="line">#include &lt;cstdio&gt;
</span><span class="line">#include &lt;cstring&gt;
</span><span class="line">#include &lt;algorithm&gt;
</span><span class="line">using namespace std;
</span><span class="line">void draw(int x1, int y1, int x2, int y2) {
</span><span class="line">    for (int i = 0; i &lt; x1; ++i) puts("");
</span><span class="line">    for (int i = x1; i &lt;= x2; ++i) {
</span><span class="line">        for (int j = 0; j &lt; y1; ++j) putchar(' ');
</span><span class="line">        for (int j = y1; j &lt;= y2; ++j)
</span><span class="line">            if (i == x1 || i == x2) putchar('*');
</span><span class="line">            else if (j == y1 || j == y2) putchar('*');
</span><span class="line">            else putchar(' ');
</span><span class="line">        putchar('\n');
</span><span class="line">    }
</span><span class="line">}
</span><span class="line">int main() {
</span><span class="line">    //freopen("data2.in", "r", stdin);
</span><span class="line">    //freopen("data2.out", "w", stdout);
</span><span class="line">    int T, ncase = 0, N;
</span><span class="line">    while (~scanf("%d", &amp;T)) {
</span><span class="line">        while (T--) {
</span><span class="line">            int x[4], y[4], minx = 100, maxx = -1, miny = 100, maxy = -1;
</span><span class="line">            int ok = 1;
</span><span class="line">
</span><span class="line">            scanf("%d", &amp;N);
</span><span class="line">            for (int i = 0; i &lt; N; ++i) scanf("%d %d", x+i, y+i);
</span><span class="line">            for (int i = 0; i &lt; N; ++i) {
</span><span class="line">                minx = min(minx, x[i]);
</span><span class="line">                maxx = max(maxx, x[i]);
</span><span class="line">                miny = min(miny, y[i]);
</span><span class="line">                maxy = max(maxy, y[i]);
</span><span class="line">            }
</span><span class="line">            if (minx == maxx || miny == maxy) ok = 0;
</span><span class="line">            for (int i = 0; ok &amp;&amp; i &lt; N; ++i) {
</span><span class="line">                if ((x[i] == minx || x[i] == maxx) &amp;&amp;
</span><span class="line">                    (y[i] == miny || y[i] == maxy)) continue;
</span><span class="line">                ok = 0;
</span><span class="line">            }
</span><span class="line">
</span><span class="line">            printf("Case #%d:\n", ++ncase);
</span><span class="line">            if (!ok) { puts("None"); continue; }
</span><span class="line">            draw(minx, miny, maxx, maxy);
</span><span class="line">        }
</span><span class="line">    }
</span><span class="line">    return 0;
</span><span class="line">}</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>以上题目均为过测试数据的程序，不保证程序完全正确无误.
Thanks for reading…<br />
&lt;p class=&#8217;post-footer&#8217;&gt;原文地址: <a href="http://www.UnkelTao.com/blog/2014/11/16/2014-swjtu-acm-onsite-programming-contest/">http://www.UnkelTao.com/blog/2014/11/16/2014-swjtu-acm-onsite-programming-contest/</a><br /><br /> 由 <a href="http://www.UnkelTao.com">UnkelTao</a> 撰写并发表于 <a href="http://www.UnkelTao.com">http://www.UnkelTao.com</a>&lt;/p&gt;</p>
</div>


  <footer>
    <p class="meta">
      
  


<span class="byline author vcard"></span>

      








  


<time datetime="2014-11-16T10:41:05+00:00" pubdate data-updated="true">Nov 16<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/acm/'>ACM</a>, <a class='category' href='/blog/categories/cpp/'>Cpp</a>
  
</span>


    </p>
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/09/29/bestcode-number-11-div2/" title="Previous Post: bestcode #11 div2">&laquo; bestcode #11 div2</a>
      
      
    </p>
      
          <!-- <div class="sharing">
  
  
  
<!-- -->
<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分享到：</span>
		<a class="jiathis_button_qzone">QQ空间</a>
		<a class="jiathis_button_tsina">新浪微博</a>
		<a class="jiathis_button_tqq">腾讯微博</a>
		<a class="jiathis_button_weixin">微信</a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
		<a class="jiathis_counter_style"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1394031070305331" charset="utf-8"></script>
<!-- JiaThis Button END -->
<!--  </div> <!-- -->

      
  </footer>
</article>





  <section data-no-instant>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"unkeltao"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END --></div>
  </section>


</div>



<aside class="sidebar">
  
    <section id="titles">
  <h1 id="site_title"><a href="http://www.UnkelTao.com" title="/UnkelTao">/UnkelTao</a></h1>
  <h3 id="site_subtitle">一个还未开始搬砖的程序猿。</h3>
</section>

<section id="menu">
  <ul>
    <li><i class="fa fa-home fa-lg"></i><a href="/"> Home </a></li>
    <li><i class="fa fa-calendar fa-lg"></i><a href="/blog/archives/"> Archives </a></li>
    <li><i class="fa fa-user fa-lg"></i><a href="/about/"> About </a></li>
    <li data-no-instant><i class="fa fa-rss fa-lg"></i><a href="/wiki/"> Wiki </a></li>
  </ul>
</section>

<section id="social">
  

  

  

  

  

  
</section>


<section>
	<h1>Friends Link</h1>
	<ul>
		<li><a href="http://xuyanconnie.sinaapp.com/blog/"  target="_blank" >徐小嘉</a></li>
    <li><a href="http://songjiayang.github.io/"  target="_blank" >songjiayang</a></li>
    <li><a href="http://herechen.github.io/" target="_blank">HereChen</a></li>
	</ul>
</section>
<section >
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/11/16/2014-swjtu-acm-onsite-programming-contest/">2014年西南交通大学 新秀杯 ACM程序设计大赛 决赛解题报告</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/29/bestcode-number-11-div2/">bestcode #11 div2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/22/spring-plus-springmvc-plus-mybatis-aop/">Spring+SpringMVC+Mybatis  利用AOP自定义注解实现可配置日志快照记录</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/17/spring-plus-springmvc-plus-mybatis/">spring+springmvc+mybatis环境搭建</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/28/latex-test/">octopress 支持Latex</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/acm/'>ACM (8)</a></li>
<li class='category'><a href='/blog/categories/cf/'>CF (4)</a></li>
<li class='category'><a href='/blog/categories/cpp/'>Cpp (7)</a></li>
<li class='category'><a href='/blog/categories/java/'>Java (2)</a></li>
<li class='category'><a href='/blog/categories/ruby/'>Ruby (3)</a></li>
<li class='category'><a href='/blog/categories/spring/'>Spring (2)</a></li>
<li class='category'><a href='/blog/categories/sublime-text/'>Sublime Text (1)</a></li>
<li class='category'><a href='/blog/categories/ubuntu/'>Ubuntu (1)</a></li>
<li class='category'><a href='/blog/categories/kindle/'>kindle (2)</a></li>
<li class='category'><a href='/blog/categories/latex/'>latex (2)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>octopress (1)</a></li>
<li class='category'><a href='/blog/categories/ruby/'>ruby (1)</a></li>
<li class='category'><a href='/blog/categories/tmux/'>tmux (1)</a></li>
<li class='category'><a href='/blog/categories/xin-qing-bi-ji/'>心情笔记 (1)</a></li>
<li class='category'><a href='/blog/categories/du-shu-bi-ji/'>读书笔记 (3)</a></li>
<li class='category'><a href='/blog/categories/sui-bi/'>随笔 (1)</a></li>

  </ul>
</section>
<section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/acm' style='font-size: 160.0%'>ACM</a> <a href='/blog/categories/cf' style='font-size: 130.0%'>CF</a> <a href='/blog/categories/cpp' style='font-size: 152.5%'>Cpp</a> <a href='/blog/categories/java' style='font-size: 115.0%'>Java</a> <a href='/blog/categories/kindle' style='font-size: 115.0%'>kindle</a> <a href='/blog/categories/latex' style='font-size: 115.0%'>latex</a> <a href='/blog/categories/octopress' style='font-size: 107.5%'>octopress</a> <a href='/blog/categories/ruby' style='font-size: 122.5%'>Ruby</a> <a href='/blog/categories/ruby' style='font-size: 107.5%'>ruby</a> <a href='/blog/categories/spring' style='font-size: 115.0%'>Spring</a> <a href='/blog/categories/sublime-text' style='font-size: 107.5%'>Sublime Text</a> <a href='/blog/categories/tmux' style='font-size: 107.5%'>tmux</a> <a href='/blog/categories/ubuntu' style='font-size: 107.5%'>Ubuntu</a> <a href='/blog/categories/xin-qing-bi-ji' style='font-size: 107.5%'>心情笔记</a> <a href='/blog/categories/du-shu-bi-ji' style='font-size: 122.5%'>读书笔记</a> <a href='/blog/categories/sui-bi' style='font-size: 107.5%'>随笔</a> </span>
</section>
<section>
	<h1>个人微博</h1>
		<iframe width="100%" height="450" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=450&fansRow=2&ptype=1&speed=300&skin=2&isTitle=0&noborder=0&isWeibo=1&isFans=0&uid=3303041202&verifier=6ee45e11&colors=f2f2f2,f2f2f2,666666,0082cb,ecfbfd&dpc=1"></iframe>
</section>

<!--
<div style="display:none;">
	<audio controls="controls" autoplay="autoplay" loop="loop">
		<source src="http://unkeltao.qiniudn.com/mp3mowenwei.mp3" type="audio/mpeg">
	</audio>
</div> <!-- -->





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - UnkelTao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>
  <!--<script type="text/javascript">
   RandomBackground(2);

  </script> -->
<!-- <script data-no-instant>InstantClick.init();</script> -->
</footer>
  











  
</body>
</html>
